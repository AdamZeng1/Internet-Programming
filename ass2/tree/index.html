<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="jqtree.css">
    <script src="jquery.min.js"></script>
    <script src="tree.jquery.js"></script>

</head>
<body>
        <div id="tree1"></div>

        <script>

// Read xml file
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
if (this.readyState == 4 && this.status == 200) {
       var data = myFunction(this);

              
              $(function() {
                $('#tree1').tree({
                    data: data
                    
                });
            });
}
};
xhttp.open("GET", "../xml/categories.xml", true);
xhttp.send();

function myFunction(xml) {
  var i;
  var data = [];
  var xmlDoc = xml.responseXML;
  var x = xmlDoc.getElementsByTagName("Categories");

  // To store categores
  for (let index = 0; index < x.length; index++) {

    //description
    var str = x[index].getElementsByTagName("Description")[0].childNodes[0].nodeValue;
    var arr = str.split(",");
    var children = [];
    for (let j = 0; j < arr.length; j++) {
        var child = {};
        child.name =  arr[j];
        children.push(child);
             
    }

    var obj = new Object();
    obj.name = x[index].getElementsByTagName("CategoryName")[0].childNodes[0].nodeValue;
    obj.children = children;

    data.push(obj);

  }

  return data;


}
           // function getdata() {
    //     var data = [
    //     {
    //         name: 'node1',
    //         children: [
    //             { name: 'child1' },
    //             { name: 'child2' }
    //         ]
    //     },
    //     {
    //         name: 'node2',
    //         children: [
    //             { name: 'child3',
    //                 children:[
    //                     {name:'child3_1'}
    //             ] },
    //             { name: 'child4' }
    //         ]
    //     }
    // ];


        </script>
</body>
</html>